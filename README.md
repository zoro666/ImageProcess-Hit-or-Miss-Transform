# ImageProcess-Hit-or-Miss-Transform
In this project, we need to implement hit-or-miss transformation to filter out the biggest and the smallest disks on an image. Also get familiar with erosion, dilation and other filters we learned in class. And observe how noise cancelling affects the result of hit-or-miss transform. 

Methods  
As is shown in the flowchart (next page). We first convert image “RandomDisks-P10” into a binary-valued image X. Then use open/close filters to clean out the salt-and-pepper noise. Create structuring elements for hit-or-miss transform. Perform hit-or-miss transform on image X and get 2 images, one with only the smallest disks in X, one biggest disks. Merge the 2 images together and yields a final image Z with both the biggest and smallest disks.  
 
Below is the MATLAB processing flow (Note: Run main.m and it will automatically call subfunctions to perform any operations required) 
1. Convert the original image into an binary-valued image. Using a threshold value of 127, Pixels in the original image whose value are greater than threshold are set to “1” (white), otherwise, set to “0” (black). Let the result image be X. 
2. Clean salt-and-pepper noise with open/close filters. Using the formula on lecture notes L4-11 
2 
1) Create a 3x3 structuring element B  2) Opening First perform erosion on X with structuring element B, then perform Minkowski Set Addition on the previous result again with B. XB = X ◦ B = (X ⊖ B) ⊕ B 
3) Closing First perform dilation on the result of opening with structuring element B, then perform Minkowski Set Subtraction on the previous result again with B. XB = X • B = (X ⊕ BS) ⊖ B 
3. Create structuring elements and perform hit-ormiss transform on image X, yielding result image Y1 with only the smallest disks in image X. (Based on lecture notes L4-8 and L4-9) 1) Create structuring elements a disk A and a holed-mask B To create disk A, we generate a 16x16 square matrix with “0”s at the center and “1”s at the boundaries. The shape of the “0”s is similar to a disk whose diameter is slightly smaller than that of the smallest disks in image X. To create holed-mask B, we generate a 20x20 square matrix with “1” at the center and “0”s at the boundaries. The shape of the “1”s is similar to a disk whose diameter is slightly bigger than that of the smallest disks in image X. 
3 
2) Perform hit-or-miss transform on image X Following formula X ○ * (A, B) = (X ⊖ AS) / (X ⊕ BS)= (X ⊖ AS) ∩ (X ⊕ BS)C we first perform erosion on X (X ⊖ AS), then dilation & complementary (X⊕ BS)C, after that we “and” the 2 results to get dots corresponding to the smallest disks in X. Finally, we blow the dots back to their original sizes by doing Minkowski Set Addition using a 5x5 structuring element B, then “and” the result with the X. After certain iterations, the dots are blew back to their original sizes. Let the result image be Y1. Note: the erosion/dilation subfunctions basically “and” or “or” the mask with the area it covers on the image then make decisions by how total number of “1”s or “0”s changes. 
4. Create structuring elements and perform hit-or-miss transform on image X, yielding result image Y2 with only the biggest disks in image X. (Based on lecture notes L4-8 and L4-9) 1) Create structuring elements a disk A and a holed-mask B To create disk A, we generate a 62x62 square matrix with “0”s at the center and “1”s at the boundaries. The shape of the “0”s is similar to a disk whose diameter is slightly smaller than that of the biggest disks in image X. To create holed-mask B, we generate a 72x72 square matrix with “1” at the center and “0”s at the boundaries. The shape of the “1”s is similar to a disk whose diameter is slightly bigger than that of the biggest disks in image X. 
2) Perform hit-or-miss transform on image X Following formula X ○ * (A, B) = (X ⊖ AS) / (X ⊕ BS)= (X ⊖ AS) ∩ (X ⊕ BS)C we first perform erosion on X (X ⊖ AS), then dilation & complementary (X⊕ BS)C, after that we “and” the 2 results to get dots corresponding to the smallest disks in X. Finally, we blow the dots back to their original sizes by doing Minkowski Set Addition using a 5x5 structuring element B, then “and” the result with the X. After certain iterations, the dots are blew back to their original sizes. Let the result image be Y2. 
5. Merge Y1 and Y2 and get the final image Z with only the biggest and smallest disks. (Z=Y1∩Y2) 
4 
6. To test if the hit-or-miss transform still works without pre-cleaning the noise, we skipped step 3 (open/close operation) but follows every other step. 

